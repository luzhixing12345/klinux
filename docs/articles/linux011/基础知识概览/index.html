<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>
        Document
    </title>
    <link rel='stylesheet' href=../../../css/prism.css /><link rel='stylesheet' href=../../../css/index.css />
    <link rel="icon" href="https://raw.githubusercontent.com/learner-lu/picbed/master/logo.png">
</head>

<body class="light">
    <div class="header-navigator"><ul><li><a href="#h1-0">基础知识概览</a><ul><li><a href="#h2-1">微型计算机组成结构</a></li></ul><ul><li><a href="#h2-2">参考</a></li></ul></li></ul></div><div class='markdown-body'><h1 id="h1-0">基础知识概览</h1><p>本文为前五章的内容摘要, 由于笔者水平有限, 对硬件设备也并不熟悉, 所以仅作一个基础知识层面的概述</p><p>第一章主要介绍了一下 Linux 的一些历史故事, 有关 Unix Minix Linux GNU POSIX 等等的一些故事, 读者感兴趣的话可以自己阅读一下, 除此之外笔者之前有做过一期相关的视频, 读者也可参考</p><blockquote><p><a href="https://www.bilibili.com/video/BV1Mv4y127wA/" target="_blank">【技术杂谈】Unix 到 GNU/Linux的操作系统历史</a></p></blockquote><h2 id="h2-1">微型计算机组成结构</h2><p>一个传统微型计算机硬件组成结构如下图所示</p><p><img src="https://raw.githubusercontent.com/learner-lu/picbed/master/20230619140525.png" alt="20230619140525"></p><p>CPU 通过地址线、数据线和控制信号线组成的本地总线（或称为内部总线）与系统其他部分进行数据通信。</p><ul><li>地址线用于提供内存或I/O设备的地址，即指明需要读/写数据的具体位置。</li></ul><ul><li>数据线用于在 CPU 和内存或 I/O 设备之间提供数据传输的通道，</li></ul><ul><li>控制线用于指挥执行的具体读/写操作</li></ul><p>对于 80386 CPU 的PC机, 其内部地址线和数据线都分别有 32 根，即都是 32 位的。因此地址寻址空间范围有 2^32 字节，从 0 到 4GB. 对于现代的计算机则都是 64 位系统, 64 位总线(地址总线/数据总线, 控制总线的位数可以因系统设计和需求而异。它们可能会比数据总线和地址总线少得多，通常在几位到数十位之间).</p><blockquote><p>一般我们常说的64位&32位机器中位数是由CPU决定的。这个位数指的是CPU GPRs(General-Purpose Registers，通用寄存器)的数据宽度为64位，64位指令集就是运行64位数据的指令，也就是说处理器一次可以运行64bit数据。64位平台不管是在性能上，还是在功能上，都要领先于目前的32位平台，目前主流的32位处理器在性能执行模式方面存在一个严重的缺陷：当面临大量的数据流时，32位的寄存器和指令集不能及时进行相应的处理运算。32位处理器一次只能处理32位，也就是4个字节的数据；而64位处理器一次就能处理64位，即8个字节的数据。如果将总长128位的指令分别按16位、32位、64位为单位进行编辑的话：32位的处理器需要4个指令，而64位处理器则只要两个指令。显然，在工作频率相同的情况下，64位处理器的处理速度比32位的更快。配备 64 位处理器的计算机可以安装 64 位或 32 位版本的操作系统。但是，对于 32 位操作系统，64 位处理器无法发挥其全部功能</p><p>除了运算能力之外，与32位处理器相比，64位处理器的优势还体现在系统对内存的控制上。由于地址使用的是特殊的整数，而64位处理器的一个ALU（算术逻辑运算器）和寄存器可以处理更大的整数，也就是更大的地址。传统32位处理器的寻址空间最大为4GB，而64位的处理器在理论上则可以达到1800万个TB（1TB=1024GB）。</p><p>要存取数据或指令就要知道数据或指令存放的位置，地址寄存器存储的就是CPU当前要存取的数据或指令的地址，该地址是由地址总线传输到地址寄存器上的。假设地址总线有n位，即共有n位二进制位来表示地址，那么最多可以表示2^n个地址，另外，由于计算机以一个字节为寻址单位，所以CPU的寻址能力或者说最大寻址范围为2^n个字节。综上，地址总线的位数决定了CPU的寻址能力。</p><p>字长指CPU同一时间内可以处理的二进制数的位数，<b>数据总线传输的数据或指令的位数要与字长一致</b>。否则，如果数据总线宽度大于字长则一条数据或指令要分多次传输，则分开传输的几组数据也就没有意义了；如果数据总线宽度小于字长，则CPU的利用率要降低，对资源是种浪费。<b>如果字长为n位，一般称CPU是n位的。所以说数据总线的宽度与字长及CPU的位数是一致的。</b></p></blockquote><p>图中上部控制器和存储器接口通常都集成在计算机主板上，这些控制器分别都是以一块大规模集成电路芯片为主组成的功能电路. 图中下方的控制卡（或者称为适配器）则是通过扩展插槽与主板上系统总线连接。总线插槽是系统地址总线、数据总线和控制线的与扩展设备控制器的标准连接接口。这些总线接口标准通常有</p><ul><li>工业标准结构 ISA（Industry Standard Architecture）总线</li></ul><ul><li>扩展工业标准结构总线 EISA（Extented ISA）</li></ul><ul><li>外围组件互连 PCI（Peripheral Component Interconnect）总线</li></ul><ul><li>加速图形端口 AGP（Accelerated Graphics Port）视频总线</li></ul><p>这些总线接口的主要区别在于数据传输速率和控制灵活性方面, 随着计算机硬件的发展，传输速率更高、控制更灵活的总线接口还在不断推出，例如采用串行通信点对点技术的高速 PCIE（PCI Express）总线。</p><p>再后来随着计算机技术的发展，很多原来使用控制卡来完成的功能（例如硬盘控制器功能）<b>都已经集成在计算机主机板上少数几个超大规模集成电路芯片中</b>，几个甚至是一个这样的芯片就确定了主机板的主要特性和功能</p><p>因此为了让系统的不同部分都能达到其最高传输速率，总线结构也发生了很大变化. 下图是现代 PC 机的组成结构</p><p><img src="https://raw.githubusercontent.com/learner-lu/picbed/master/20230619144745.png" alt="20230619144745"></p><p>除了 CPU 以外，现代 PC 机主板主要使用 2 个超大规模芯片构成的芯片组或芯片集（Chipsets）组成：<b>北桥（Northbridge）芯片</b>和<b>南桥（Southbridge）芯片</b>。</p><ul><li>北桥芯片用于与 CPU、内存和 AGP 视频接口交互，这些接口具有很高的传输速率。北桥芯片还起着存储器控制作用，因此Intel 把该芯片标号为 MCH（Memory Controller Hub）芯片。</li></ul><ul><li>南桥芯片用来管理低、中速的组件，例如，PCI 总线、IDE 硬盘接口、USB 端口等，因此南桥芯片的名称为 ICH（I/O Controller Hub）。</li></ul><blockquote><p>之所以用“南、北”桥来分别统称这两个芯片，是由于在 Intel 公司公布的典型 PC 机主板上，它们分别位于主版的下端和上端（即地图上的南部和北部）位置，并起着与 CPU 进行通道桥接的作用。</p></blockquote><p>所以大体上说：北桥负责与CPU通信，并且连接高速设备（内存/显卡），并且与南桥通信；南桥负责与低速设备（硬盘/USB）通信，时钟/BIOS/系统管理/旧式设备控制，并且与北桥通信.</p><p>再后来 Intel从第一代Core i7 (i7 9xx)开始，<b>将原属于北桥功能的内存控制器整合到CPU当中</b>; AMD平台的发展轨迹类似，在K8架构（第一代AMD64处理器）开始就把内存控制器集成到CPU内部，后来先是APU再是桌面的FX系列，陆陆续续把PCI-e控制器也整合到CPU中, 所以现在已经看不到北桥芯片只剩下南桥芯片了, 甚至今后南桥芯片也可能会被合并进去也未可知...</p><h2 id="h2-2">参考</h2><ul><li><a href="https://www.cnblogs.com/doggod/p/13403622.html" target="_blank">64位CPU和数据/地址总线的关系</a></li></ul><ul><li><a href="https://www.geeksforgeeks.org/difference-32-bit-64-bit-operating-systems/" target="_blank">Difference between 32-bit and 64-bit operating systems</a></li></ul><ul><li><a href="https://www.zhihu.com/question/66881178/answer/246813653" target="_blank">主板上的南北桥是什么东西</a></li></ul></div>
    <div class="dir-tree"><ul><li><a href="../../md-docs/README" >README</a></li></ul><ul><li><a href="../../linux011/README" >linux011</a><ul><li><a href="../../linux011/README" >README</a></li></ul><ul><li><a href="../../linux011/基础知识概览" >基础知识概览</a></li></ul><ul><li><a href="../../linux011/init" >init</a></li></ul><ul><li><a href="../../linux011/kernel" >kernel</a></li></ul></li></ul><ul><li><a href="../../前期准备/编译内核" >前期准备</a><ul><li><a href="../../前期准备/编译内核" >编译内核</a></li></ul><ul><li><a href="../../前期准备/调试内核" >调试内核</a></li></ul><ul><li><a href="../../前期准备/邮件订阅" >邮件订阅</a></li></ul><ul><li><a href="../../前期准备/linux目录结构" >linux目录结构</a></li></ul><ul><li><a href="../../前期准备/lfs" >lfs</a></li></ul></li></ul></div>
    <div class="zood"><a class="" href="https://github.com/luzhixing12345/zood" target="_blank">zood</a></div>
    <script type="text/javascript" src="../../../js/next_front.js"></script><script>addLink("../../linux011/README","../../linux011/init","ab")</script><script type="text/javascript" src="../../../js/change_mode.js"></script><script>addChangeModeButton("../../../img/sun.png","../../../img/moon.png")</script><script type="text/javascript" src="../../../js/copy_code.js"></script><script>addCodeCopy("../../../img/before_copy.png","../../../img/after_copy.png")</script><script type="text/javascript" src="../../../js/navigator.js"></script><script type="text/javascript" src="../../../js/prism.js"></script><script type="text/javascript" src="../../../js/picture_preview.js"></script><script type="text/javascript" src="../../../js/check_box.js"></script>
</body>

</html>